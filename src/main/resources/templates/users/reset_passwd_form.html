<!DOCTYPE html>
<html layout:decorate="~{layout}" xmlns:th="http://www.thymeleaf.org">
<th:block layout:fragment="styles">
  <link rel="stylesheet" href="/css/users_admin.css">
</th:block>

<div layout:fragment="content">
  <div class="container_box">
    <div class="title_line">ğŸ”’ ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •</div>

    <!-- âœ… onsubmitì—ì„œ JS í•¨ìˆ˜ í˜¸ì¶œ -->
    <form th:action="@{/users/reset_passwd}" method="post" class="form" onsubmit="return validatePasswords();">
      <label for="new_passwd">ìƒˆ ë¹„ë°€ë²ˆí˜¸</label><br>
      <input type="password" id="new_passwd" name="new_passwd" required><br><br>

      <label for="confirm_passwd">ìƒˆ ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label><br>
      <input type="password" id="confirm_passwd" name="confirm_passwd" required><br><br>

      <button type="submit">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</button>
    </form>

    <p th:text="${msg}" style="color: red;"></p>
  </div>

  <!-- âœ… JavaScript: ë¹„ë°€ë²ˆí˜¸ ì¼ì¹˜ í™•ì¸ -->
  <script>
    function validatePasswords() {
      const pw1 = document.getElementById("new_passwd").value;
      const pw2 = document.getElementById("confirm_passwd").value;

      if (pw1 !== pw2) {
        alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
        return false; // ì œì¶œ ë§‰ìŒ
      }
      return true; // ì œì¶œ í—ˆìš©
    }
  </script>
</div>
</html>